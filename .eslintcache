[{"C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\reportWebVitals.ts":"1","C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\App.tsx":"2","C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\components\\Weathercard.tsx":"3","C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\index.tsx":"4","C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\components\\Header.tsx":"5","C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\components\\WeatherCard.tsx":"6","C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\components\\ThemeProvider.tsx":"7","C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\i18n.tsx":"8"},{"size":425,"mtime":1610103030161,"results":"9","hashOfConfig":"10"},{"size":872,"mtime":1610642302432,"results":"11","hashOfConfig":"10"},{"size":5470,"mtime":1610649124565,"results":"12","hashOfConfig":"10"},{"size":703,"mtime":1610566428075,"results":"13","hashOfConfig":"10"},{"size":1921,"mtime":1610646743558,"results":"14","hashOfConfig":"10"},{"size":4526,"mtime":1610558715011,"results":"15","hashOfConfig":"10"},{"size":1013,"mtime":1610560904023,"results":"16","hashOfConfig":"10"},{"size":401,"mtime":1610569463040,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"zx2kuj",{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\reportWebVitals.ts",[],"C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\App.tsx",["37"],"C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\components\\Weathercard.tsx",["38"],"import React, { Component } from 'react'\r\nimport { WithTranslation, withTranslation } from 'react-i18next';\r\n\r\nimport axios from 'axios'\r\nimport moment from 'moment';\r\n\r\ninterface IPost {\r\n  temperature: number;\r\n  weather: string;\r\n  feelsLike: number;\r\n  sunrise: string;\r\n}\r\n\r\n\r\nconst css = require('./Weathercard.css')\r\n\r\n\r\nclass Weathercard extends Component<WithTranslation> {\r\n\r\n\r\n\r\n  interval:any;\r\n\r\n\r\n\r\n  state = {\r\n    city: \"\",\r\n    cityToDisplay: \"\",\r\n    latitude:0,\r\n    longitude: 0,\r\n    time:0,\r\n    pictureToDisplay: \"\",\r\n    posts: {temperature: 0,\r\n      weather: \"\",\r\n      feelsLike: 0,\r\n      sunrise: \"\"\r\n    }}\r\n\r\n  componentDidMount() {\r\n    navigator.geolocation.getCurrentPosition(\r\n      (position) => {\r\n        console.log(\"Latitude is :\", position.coords.latitude);\r\n        console.log(\"Longitude is :\", position.coords.longitude);\r\n        this.setState({\r\n          latitude: position.coords.latitude,\r\n          longitude:position.coords.longitude\r\n        },() => this.getLocationDataByCoords(this.state.latitude,this.state.longitude))\r\n\r\n      },\r\n      (error) => {\r\n        console.error(\"Error Code = \" + error.code + \" - \" + error.message);\r\n        this.setState({\r\n          city: \"Budapest\",\r\n          cityToDisplay: \"Budapest\"\r\n        }, this.getLocationDataByName)\r\n      }\r\n    );\r\n  }\r\n\r\n  // componentWillMount(){\r\n  //   this.setState({\r\n  //     city: \"Győr\",\r\n  //     cityToDisplay: \"Győr\"\r\n  //   }, this.getLocationDataByName)\r\n  // }\r\n\r\n\r\n  onChangeText = (event: React.FormEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      city: event.currentTarget.value\r\n    })\r\n    console.log(this.state.city)\r\n  }\r\n\r\n  onSearch = (event: React.SyntheticEvent) => {\r\n    event.preventDefault()\r\n    this.getLocationDataByName()\r\n  }\r\n\r\n  getLocationDataByCoords(latitude:Number,longitude:Number){\r\n    axios\r\n    .get<IPost>(`http://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${process.env.REACT_APP_API_KEY}&units=metric`)\r\n    .then((response: any) => {\r\n      const newPost :IPost =\r\n      {temperature: Number(response.data.main.temp),\r\n        weather: String(response.data.weather[0].main),\r\n        feelsLike: Number(response.data.main.feels_like),\r\n        sunrise: String(response.data.sys.sunrise)}\r\n        if(response.status === 200){\r\n          this.setState({\r\n            posts: newPost,\r\n            pictureToDisplay: `/weatherIMG/${response.data.weather[0].main}.png`,\r\n            cityToDisplay : response.data.name\r\n          }\r\n\r\n          ,()=>{\r\n            console.log(this.state.posts)\r\n            console.log()\r\n            console.log(this.state.pictureToDisplay)\r\n          })\r\n        }\r\n  })\r\n  }\r\n\r\n  getLocationDataByName(){\r\n    axios\r\n      .get<IPost>(`http://api.openweathermap.org/data/2.5/weather?q=${this.state.city}&appid=${process.env.REACT_APP_API_KEY}&units=metric`)\r\n      .then((response: any) => {\r\n        const newPost :IPost =\r\n        {temperature: Number(response.data.main.temp),\r\n          weather: String(response.data.weather[0].main),\r\n          feelsLike: Number(response.data.main.feels_like),\r\n          sunrise: String(response.data.sys.sunrise)}\r\n          if(response.status === 200){\r\n            this.setState({\r\n              posts: newPost,\r\n              pictureToDisplay: `/weatherIMG/${response.data.weather[0].main}.png`,\r\n              cityToDisplay : this.state.city\r\n            }\r\n\r\n            ,()=>{\r\n              console.log(this.state.posts)\r\n\r\n              console.log(this.state.pictureToDisplay)\r\n            })\r\n          }\r\n    })\r\n  }\r\n\r\n\r\n\r\n    render() {\r\n\r\n    return (\r\n\r\n      <div>\r\n        {this.state.cityToDisplay!== \"\" ?\r\n        <div>\r\n          <div className=\"row col-4 offset-4\">\r\n            <input className=\"form-control input-sm\" onChange={this.onChangeText} type=\"text\"></input>\r\n            <button className=\"btn btn-secondary\" onClick={this.onSearch}>{this.props.t('Search.1')}</button>\r\n          </div>\r\n        <div className=\"card\"> <span className=\"icon\"><img className=\"img-fluid\" src={this.state.pictureToDisplay} alt={this.state.posts.weather} /></span>\r\n        <div className=\"title\">\r\n            <p>{this.state.cityToDisplay}</p>\r\n        </div>\r\n        <div className=\"temp\">{this.state.posts.temperature}<sup>&deg;</sup></div>\r\n            <div className=\"row\">\r\n                <div className=\"col-4\">\r\n                    <div className=\"header\">{this.props.t('Feels Like.1')}</div>\r\n                    <div className=\"value\">{this.state.posts.feelsLike}<sup>&deg;</sup></div>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                    <div className=\"header\">{this.props.t('Weather.1')}</div>\r\n                    <div className=\"value\">{this.state.posts.weather}</div>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                    <div className=\"header\">{this.props.t('Sunrise.1')}</div>\r\n                    <div className=\"value\">{moment.unix(Number(this.state.posts.sunrise)).format('LT')}</div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n          </div>\r\n\r\n          :\r\n          <div className=\"d-flex justify-content-center\">\r\n            <div className=\"spinner-border text-dark\" role=\"status\">\r\n            </div>\r\n            <p>Please enable location</p>\r\n          </div>\r\n        }\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default withTranslation()(Weathercard)\r\n","C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\index.tsx",[],"C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\components\\Header.tsx",["39"],"import React,{useContext, useEffect} from 'react'\r\n\r\nimport {ThemeContext} from './ThemeProvider'\r\nimport {useTranslation} from 'react-i18next'\r\n\r\nexport const Header = () => {\r\n  const [today, setDate] = React.useState(new Date());\r\n  const { theme, toggleTheme, toggleDarkTheme, toggleLightTheme } = useContext(ThemeContext);\r\n  const {t, i18n} = useTranslation();\r\n  const [isSwitched, setIsSwitched] = React.useState(false)\r\n\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n    setDate(new Date());\r\n    if(!isSwitched){\r\n      if(hour>=18 || hour<=7){\r\n        toggleDarkTheme()\r\n        console.log(hour)\r\n        console.log(isSwitched)\r\n      }\r\n      else{\r\n        toggleLightTheme()\r\n      }\r\n    }\r\n  }, 100);\r\n  return () => {\r\n    clearInterval(timer);\r\n  }\r\n}, [theme]);\r\n\r\n  const handleSubmit = (event : React.MouseEvent<HTMLButtonElement>) => {\r\n    event.preventDefault();\r\n    setIsSwitched(true)\r\n    toggleTheme()\r\n  }\r\n\r\n  const changeLanguage = (language: string) => {\r\n    i18n.changeLanguage(language)\r\n  }\r\n\r\n\r\nconst hour = today.getHours();\r\nconst greeting = `${t(`Good.1`)} ${(hour < 12 && t('Morning.1')) || (hour < 18 && t('Afternoon.1')) || t('Evening.1')}! `;\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"row\">\r\n      <h3>{greeting}</h3>\r\n      </div>\r\n      <div className=\"row offset-5\">\r\n        <div className=\"col-2\">\r\n          <button className=\"btn btn-secondary\" onClick={()=>changeLanguage(\"en\")}>{t('English.1')}</button>\r\n        </div>\r\n        <div className=\"col-2\">\r\n          <button className=\"btn btn-secondary\" onClick={()=>changeLanguage(\"hu\")}>{t('Hungarian.1')}</button>\r\n        </div>\r\n      </div>\r\n\r\n      <button className=\"btn btn-secondary\" onClick={(event) =>handleSubmit(event)}>\r\n        {t('Switch to.1')} {theme === (\"light\") ? t(\"dark.1\") : t(\"light.1\")} {t(\"mode.1\")}\r\n      </button>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Header","C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\components\\WeatherCard.tsx",["40"],"C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\components\\ThemeProvider.tsx",["41"],"import React, { useState } from \"react\";\r\n\r\ntype Theme = \"light\" | \"dark\";\r\ntype ThemeContext = { theme: Theme; toggleTheme: () => void; toggleDarkTheme: () => void;toggleLightTheme: () => void; };\r\n\r\nexport const ThemeContext = React.createContext<ThemeContext>(\r\n  {} as ThemeContext\r\n);\r\n\r\nexport const ThemeProvider: React.FC = ({ children }) => {\r\n  const [theme, setTheme] = useState<Theme>(\"light\");\r\n  const toggleTheme = () => {\r\n    setTheme(theme === \"light\" ? \"dark\" : \"light\");\r\n  };\r\n\r\n  const toggleDarkTheme = () => {\r\n    setTheme(\"dark\");\r\n  };\r\n  const toggleLightTheme = () => {\r\n    setTheme(\"light\");\r\n  };\r\n\r\n  const color = theme === \"light\" ? \"#333\" : \"#FFF\";\r\n  const backgroundColor = theme === \"light\" ? \"#FFF\" : \"#333\";\r\n\r\n  document.body.style.color = color;\r\n  document.body.style.backgroundColor = backgroundColor;\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, toggleTheme, toggleDarkTheme, toggleLightTheme }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n};","C:\\Users\\Krissz\\Desktop\\React\\Typescript\\weather\\src\\i18n.tsx",[],{"ruleId":"42","severity":1,"message":"43","line":6,"column":7,"nodeType":"44","messageId":"45","endLine":6,"endColumn":10},{"ruleId":"42","severity":1,"message":"43","line":15,"column":7,"nodeType":"44","messageId":"45","endLine":15,"endColumn":10},{"ruleId":"46","severity":1,"message":"47","line":29,"column":4,"nodeType":"48","endLine":29,"endColumn":11,"suggestions":"49"},{"ruleId":"42","severity":1,"message":"43","line":12,"column":7,"nodeType":"44","messageId":"45","endLine":12,"endColumn":10},{"ruleId":"50","severity":1,"message":"51","line":6,"column":14,"nodeType":"44","messageId":"52","endLine":6,"endColumn":26},"@typescript-eslint/no-unused-vars","'css' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'hour', 'isSwitched', 'toggleDarkTheme', and 'toggleLightTheme'. Either include them or remove the dependency array.","ArrayExpression",["53"],"@typescript-eslint/no-redeclare","'ThemeContext' is already defined.","redeclared",{"desc":"54","fix":"55"},"Update the dependencies array to be: [hour, isSwitched, theme, toggleDarkTheme, toggleLightTheme]",{"range":"56","text":"57"},[789,796],"[hour, isSwitched, theme, toggleDarkTheme, toggleLightTheme]"]